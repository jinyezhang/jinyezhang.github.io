<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>cascader 级联选择器 | 个人主页</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/photo.jpg">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/images/photo.jpg">
    <meta name="description" content="张金叶的博客">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.18d9004a.css" as="style"><link rel="preload" href="/assets/js/app.d1c6ccf3.js" as="script"><link rel="preload" href="/assets/js/2.2a0560b8.js" as="script"><link rel="preload" href="/assets/js/10.ea6fcdd2.js" as="script"><link rel="prefetch" href="/assets/js/11.87fe992e.js"><link rel="prefetch" href="/assets/js/12.78139d41.js"><link rel="prefetch" href="/assets/js/13.c8c4da0a.js"><link rel="prefetch" href="/assets/js/14.f4a1f006.js"><link rel="prefetch" href="/assets/js/15.581cf89d.js"><link rel="prefetch" href="/assets/js/16.0dfacd79.js"><link rel="prefetch" href="/assets/js/17.2df25cd4.js"><link rel="prefetch" href="/assets/js/18.b50da5cf.js"><link rel="prefetch" href="/assets/js/19.5da51009.js"><link rel="prefetch" href="/assets/js/20.beb6a368.js"><link rel="prefetch" href="/assets/js/21.62cec721.js"><link rel="prefetch" href="/assets/js/22.de8fc4c8.js"><link rel="prefetch" href="/assets/js/23.2f2de086.js"><link rel="prefetch" href="/assets/js/24.3043d38f.js"><link rel="prefetch" href="/assets/js/25.c453f23c.js"><link rel="prefetch" href="/assets/js/26.bcef791c.js"><link rel="prefetch" href="/assets/js/27.c5e2e321.js"><link rel="prefetch" href="/assets/js/28.9810b5d7.js"><link rel="prefetch" href="/assets/js/29.ee70c5e5.js"><link rel="prefetch" href="/assets/js/3.4c226bd4.js"><link rel="prefetch" href="/assets/js/4.a981af59.js"><link rel="prefetch" href="/assets/js/5.b054db93.js"><link rel="prefetch" href="/assets/js/6.2996ace1.js"><link rel="prefetch" href="/assets/js/7.084bfa88.js"><link rel="prefetch" href="/assets/js/8.7dc397ef.js"><link rel="prefetch" href="/assets/js/9.c0d7f8d8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.18d9004a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人主页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/elementUi/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ElementUi
</a></li><li class="dropdown-item"><!----> <a href="/jquery/" class="nav-link">
  Jquery
</a></li><li class="dropdown-item"><!----> <a href="/browser/" class="nav-link">
  浏览器
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/jinyezhang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/elementUi/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ElementUi
</a></li><li class="dropdown-item"><!----> <a href="/jquery/" class="nav-link">
  Jquery
</a></li><li class="dropdown-item"><!----> <a href="/browser/" class="nav-link">
  浏览器
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/jinyezhang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>级联选择器</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/elementUi/cascader.html" class="sidebar-link">cascader 级联选择器</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>下拉选择器</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/elementUi/select.html" class="sidebar-link">select 下拉选择器</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>上传文件/图片</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/elementUi/upload.html" class="sidebar-link">文件上传</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cascader-级联选择器"><a href="#cascader-级联选择器" class="header-anchor">#</a> cascader 级联选择器</h1> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>在使用省市区两级或三级地区联动时，经常会用到 cascader 级联选择器，非常好用</p></div> <h2 id="cascader-基本使用"><a href="#cascader-基本使用" class="header-anchor">#</a> cascader 基本使用</h2> <p>elementUi 官网<a href="https://element.eleme.cn/#/zh-CN/component/cascader" target="_blank" rel="noopener noreferrer">cascader 级联选择器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/images/elementUi/cascader/%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95.png" alt="avatar"></p> <blockquote><p>主要参数如下:</p> <blockquote><ol><li><code>v-model</code>:绑定的值，单面板时是一个一维数组，多面板时是一个多维数组</li> <li><code>options</code>:就是选择器下拉面板中需要展示的内容，是个数组，里面的结构是：<code>value/label/children</code>三项，<code>children</code>里面同理</li> <li>如果要监听级联选择器中选值的方法，则需要使用<code>change</code>事件</li></ol></blockquote></blockquote> <p>我需要实现的是：<strong>多选并且可以检索筛选下拉面板内容的功能，而且是双面板的结构</strong>。</p> <p>我刚开始是用了级联选择器，但是由于后端给我的数据有 <code>2000+</code>数据，导致面板在进行搜索筛选时，<strong>页面卡顿</strong>。</p> <p>效果图如下：
<img src="/images/elementUi/cascader/%E6%95%88%E6%9E%9C%E5%9B%BE.png" alt="avatar"></p> <p><strong>此级联选择器中，一级面板数据量有 <code>2000+</code>,二级面板数据只有固定的 <code>2</code> 条。</strong></p> <h2 id="cascader-渲染数据过多问题"><a href="#cascader-渲染数据过多问题" class="header-anchor">#</a> cascader 渲染数据过多问题</h2> <div class="custom-block danger"><p class="custom-block-title">警告</p> <p>当 option 内容过多(我这边渲染 2000+条数据),导致页面十分卡顿，此时需要考虑以下的几种方案</p></div> <h3 id="考虑远程搜索-无此功能"><a href="#考虑远程搜索-无此功能" class="header-anchor">#</a> 考虑远程搜索（无此功能）</h3> <p>与<code>cascader</code>级联选择器类似的有个下拉选择器<code>select</code>,<code>select</code>有个针对数据量大渲染问题的方法就是：<strong>远程搜索</strong>:
<img src="/images/elementUi/cascader/select_%E8%BF%9C%E7%A8%8B%E6%90%9C%E7%B4%A2.png" alt="avatar"></p> <hr> <p>为了启用远程搜索，需要将<code>filterable</code>和<code>remote</code>设置为<code>true</code>，同时传入一个<code>remote-method</code>。<code>remote-method</code>为一个<code>Function</code>，它会在输入值发生变化时调用，参数为当前输入值。需要注意的是，如果<code>el-option</code>是通过<code>v-for</code>指令渲染出来的，此时需要为<code>el-option</code>添加<code>key</code>属性，且其值需具有唯一性，比如<code>item.value</code>。</p> <p>在查看 <code>cascader</code> 组件的官网解释后，只发现了<strong>可搜索功能</strong>，并没有<strong>远程搜索功能</strong>。</p> <p><strong>可搜索功能与远程搜索功能是不一样的，可搜索功能是在组件渲染时，就将全部的内容渲染出来。所以并不能完全实现远程搜索的功能。</strong></p> <h3 id="考虑动态加载-不适合一级面板数据量大的情况"><a href="#考虑动态加载-不适合一级面板数据量大的情况" class="header-anchor">#</a> 考虑动态加载（不适合一级面板数据量大的情况）</h3> <p><code>cascader</code>级联选择器：与下拉选择器的区别主要是在于可以实现多面板数据展示，因此为了能够更好的渲染数据，有个动态加载的功能，此功能主要是用于<strong>动态加载某一级面板下的选项</strong>，如果是多级面板，且子级面板数据量大的情况下，是可以使用动态面板的，但此时我们遇到的问题是：一级面板数据量多大，二级面板数据量少。
<img src="/images/elementUi/cascader/%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD.png" alt="avatar"></p> <h3 id="分页获取数据-不太人性化"><a href="#分页获取数据-不太人性化" class="header-anchor">#</a> 分页获取数据（不太人性化）</h3> <p>当数据量过大时，通常我们会想到分页获取数据，后端一次性将<code>2000+</code>数据全部返回给我，我分页去获取。百度后发现有大佬已经实现此功能：</p> <p>参考大神链接：
分页获取数据解决 select 组件数据量大卡顿问题：<a href="https://blog.csdn.net/ZYS10000/article/details/111822862" target="_blank" rel="noopener noreferrer">分页获取数据解决 select 组件数据量大卡顿问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>分页获取数据主要难点是：<strong>什么时候分页获取？如何触发分页？以及 filter-method 方法的使用</strong> <img src="/images/elementUi/cascader/select%E7%BB%84%E4%BB%B6%E5%88%86%E9%A1%B5%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE.png" alt="avatar"></p> <p>大神用了一个自定义的<code>vue</code>指令，用于监听用户的下拉操作：</p> <p>具体思路就是：
先加载前几十条数据，如果用户有执行下拉动滚动条的操作，则滚动触底后加载后面几十条的数据。依次类推。</p> <p>此时会有个问题，在实际的应用场景中，用户不会通过下拉去直接选择，而是通过检索的方式来处理。如果要检索的内容还未通过下拉动滚动条加载出来，则此时是检索不到对应的数据的。因为检索会从已有的<code>options</code>数据中筛选，而非原始数据。</p> <p>使用这种方式的效果的确是组件渲染快速了，但是不人性化。</p> <h3 id="异步加载数据-依然卡顿"><a href="#异步加载数据-依然卡顿" class="header-anchor">#</a> 异步加载数据(依然卡顿)</h3> <p>看到有个钩子函数，是筛选之前的钩子。想到可以开始给面板的数据<code>options</code>赋值为空，然后通过输入关键字后，筛选到对应的内容后，赋值给<code>options</code>，但是经过实验发现，筛选只能是从已有的<code>options</code>中筛选，通过自定义的数据中筛选是无法实现的。</p> <p><img src="/images/elementUi/cascader/%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE.png" alt="avatar"></p> <h3 id="自己写一个类似的级联选择器-成功"><a href="#自己写一个类似的级联选择器-成功" class="header-anchor">#</a> 自己写一个类似的级联选择器(成功)</h3> <p><img src="/images/elementUi/cascader/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BA%A7%E8%81%94%E9%80%89%E6%8B%A9%E5%99%A8.png" alt="avatar"></p> <p>根据观察现成的级联选择器，可以在<code>elementUi</code>官网中发现相似的组件：</p> <blockquote><p>已选中的选项：可以用<code>el-tag</code>来表示，<code>el-tag</code>中本身也有删除功能
检索功能：可以用<code>el-input</code>输入框来处理，可以加个防抖并监听<code>input</code>的输入事件
下拉选项框：可以通过<code>div</code>来表示，两级面板用两个<code>div</code>并列展示即可</p></blockquote> <p>具体代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>el<span class="token operator">-</span>tag v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(tag,tagIndex) in dailiOptions&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;tagIndex&quot;</span> <span class="token operator">:</span>closable<span class="token operator">=</span><span class="token string">&quot;!disabled&quot;</span> color<span class="token operator">=</span><span class="token string">&quot;#f4f4f5&quot;</span> v<span class="token operator">-</span>on<span class="token operator">:</span>close<span class="token operator">=</span><span class="token string">&quot;closeDailiTag(tagIndex)&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>tag<span class="token punctuation">.</span>label<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span>层级<span class="token punctuation">{</span><span class="token punctuation">{</span>tag<span class="token punctuation">.</span>level<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>tag<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dailiCls&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;display:flex;flex-direction:column;position:relative;margin-top:10px;&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;!disabled&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;searchWord&quot;</span> placeholder<span class="token operator">=</span><span class="token string">&quot;请输入品牌关键词&quot;</span> clearable size<span class="token operator">=</span><span class="token string">&quot;mini&quot;</span> <span class="token operator">:</span>disabled<span class="token operator">=</span><span class="token string">&quot;disabled&quot;</span> v<span class="token operator">-</span>on<span class="token operator">:</span>input<span class="token operator">=</span><span class="token string">&quot;searchWordChange&quot;</span> v<span class="token operator">-</span>on<span class="token operator">:</span>focus<span class="token operator">=</span><span class="token string">&quot;inputFocus&quot;</span> v<span class="token operator">-</span>on<span class="token operator">:</span>blur<span class="token operator">=</span><span class="token string">&quot;inputBlur&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>i slot<span class="token operator">=</span><span class="token string">&quot;suffix&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;choosePinpai==null&amp;&amp;!dailiFocusFlag?'el-icon-arrow-down':'el-icon-arrow-up'&quot;</span> v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;flagClick&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;ppListCls&quot;</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;choosePinpai!=null||dailiFocusFlag&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;ppLeft&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(p,pIndex) in agentBrandOptions&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;pIndex&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;cursor:pointer;&quot;</span> v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;selectPinpai(pIndex)&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;choosePinpai==pIndex?'active':''&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>p<span class="token punctuation">.</span>label<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;ppRight&quot;</span> v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;showGrapeFlag&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>p v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;selectGrape(2)&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;chooseGrape==2?'active':''&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;cursor:pointer;&quot;</span><span class="token operator">&gt;</span>层级<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>p v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;selectGrape(3)&quot;</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;chooseGrape==3?'active':''&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;cursor:pointer;&quot;</span><span class="token operator">&gt;</span>层级<span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>input 组件——监听组件内容的输入</strong>
通过<code>setTimeout</code>实现防抖，延迟<code>500毫秒</code>后，将根据<code>input</code>组件中输入的内容进行筛选。然后将筛选后的内容赋值给<code>options</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">searchWordChange2</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>xianhuoFocusFlag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>showGrapeFlag2 <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>choosePinpai2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
             <span class="token keyword">var</span> dailiOptions <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pinPaiData<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">a</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                 <span class="token keyword">return</span> a<span class="token punctuation">.</span>label<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span>
             <span class="token punctuation">}</span><span class="token punctuation">)</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>tradeBrandOptions <span class="token operator">=</span> dailiOptions<span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>tradeBrandOptions <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pinPaiData<span class="token punctuation">;</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>showGrapeFlag2 <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>choosePinpai2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>xianhuoFocusFlag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>还有其他需要注意的小细节：</p> <blockquote><p>两级面板的显示与隐藏
选中某条数据后的样式改变，通过 css 中的 after 伪元素来处理
……</p></blockquote> <p>最终完成!!!</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d1c6ccf3.js" defer></script><script src="/assets/js/2.2a0560b8.js" defer></script><script src="/assets/js/10.ea6fcdd2.js" defer></script>
  </body>
</html>
